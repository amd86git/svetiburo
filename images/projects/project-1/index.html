<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Photo Animation Switcher</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  background:#000;
  font-family:Arial, sans-serif;
  overflow:hidden;
  color:#fff;
}

/* Контейнер */
.viewer {
  height:100vh;
  width:100vw;
  overflow:hidden;
  position:relative;
}

.viewer img {
  width:100%;
  height:100%;
  object-fit:cover;
  transition: transform 0.6s ease;
}

/* --- 1. Ken Burns --- */
.kenburns img {
  animation: kenburns 18s ease-in-out infinite alternate;
}

@keyframes kenburns {
  0% { transform: scale(1) translateY(0); }
  100% { transform: scale(1.08) translateY(-20px); }
}

/* --- 2. Reveal --- */
.reveal img {
  animation: reveal 1.5s cubic-bezier(.77,0,.18,1) forwards;
}

@keyframes reveal {
  0% {
    clip-path: inset(100% 0 0 0);
    transform: scale(1.1);
  }
  100% {
    clip-path: inset(0 0 0 0);
    transform: scale(1);
  }
}

/* --- 3. Parallax --- */
.parallax img {
  transition: transform 0.15s ease-out;
}

/* Кнопки */
.controls {
  position:fixed;
  top:30px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:15px;
  z-index:10;
}

button {
  padding:10px 18px;
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.3);
  color:#fff;
  cursor:pointer;
  backdrop-filter:blur(5px);
  transition:0.3s;
}

button:hover {
  background:#fff;
  color:#000;
}
</style>
</head>

<body>

<div class="controls">
  <button onclick="setMode('kenburns')">Ken Burns</button>
  <button onclick="setMode('reveal')">Reveal</button>
  <button onclick="setMode('parallax')">Parallax</button>
</div>

<div class="viewer kenburns" id="viewer">
  <img src="photo.jpg" id="photo">
</div>

<script>
const viewer = document.getElementById('viewer');
const img = document.getElementById('photo');

function setMode(mode) {
  viewer.className = 'viewer ' + mode;

  // Сброс transform
  img.style.transform = "";

  if (mode === "reveal") {
    img.style.animation = "none";
    void img.offsetWidth;
    img.style.animation = "";
  }
}

// Parallax
document.addEventListener('mousemove', (e) => {
  if (!viewer.classList.contains('parallax')) return;

  const x = (window.innerWidth / 2 - e.pageX) / 40;
  const y = (window.innerHeight / 2 - e.pageY) / 40;

  img.style.transform = `scale(1.05) translate(${x}px, ${y}px)`;
});
</script>

</body>
</html>